<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>EV Public Charging Comparison</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="stylesheet" href="style.css">

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>
<div class="app">

    <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:16px;">
        <h1>EV Public Charging Comparison</h1>

        <div style="display:flex; gap:10px;">
            <button class="btn secondary" onclick="resetAll()">Reset All</button>
            <a href="https://www.facebook.com/kelvin.a.hill" target="_blank" class="btn secondary">Contact Author</a>
        </div>
    </div>

    <div class="subtitle">
        Compare ad‑hoc vs subscription charging for a specific trip distance.<br><br>
        Select pre-set providers, edit default values, and/or add your own custom provider(s).
    </div>

    <div class="grid">
        <div class="card">
            <h2>Trip & Vehicle</h2>

            <div class="input-row">
                <div class="input-group">
                    <label>Trip distance (miles)</label>
                    <input type="number" id="journeyMiles">
                </div>

                <div class="input-group">
                    <label>Battery size (kWh)</label>
                    <input type="number" id="batteryKwh">
                </div>
            </div>

            <div class="input-row">
                <div class="input-group">
                    <label>Starting state of charge (%)</label>
                    <input type="number" id="soc">
                </div>

                <div class="input-group">
                    <label>Efficiency (miles per kWh)</label>
                    <input type="number" id="efficiency">
                </div>
            </div>

            <div class="input-group">
                <label>Ad‑hoc public rate (p/kWh)</label>
                <input type="number" id="adhoc">
            </div>
        </div>

        <div class="card">
            <div class="providers-header-row">
                <h2>Subscriptions & Discounts</h2>
                <button class="btn" onclick="addProvider()">Add provider</button>
            </div>

            <div id="providers"></div>
        </div>
    </div>

    <div class="btn-row">
        <button class="btn secondary" onclick="shareLink()">Copy shareable link</button>
        <button class="btn secondary" onclick="exportPdf()">Export as PDF</button>
    </div>

    <div id="results" class="results">
        <div id="summaryBox" class="summary"></div>

        <div class="calc-lines">
            <div id="homeRangeLine"></div>
            <div id="publicMilesLine"></div>
            <div id="publicKwhLine"></div>
            <div id="adhocCostLine"></div>
        </div>

        <div id="providerResults"></div>

        <div class="chart-wrapper">
            <canvas id="costChart" height="220"></canvas>
        </div>
    </div>
</div>

<script src="functions.js"></script>
</body>
</html>
